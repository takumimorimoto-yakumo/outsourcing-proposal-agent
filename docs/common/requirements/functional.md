# 機能要件

**最終更新**: 2025-12-12
**バージョン**: 1.0

---

## 目次

1. [機能一覧](#1-機能一覧)
2. [案件情報取得機能](#2-案件情報取得機能)
3. [GitHub情報取得機能](#3-github情報取得機能)
4. [提案文生成機能](#4-提案文生成機能)
5. [固定文・設定管理機能](#5-固定文設定管理機能)
6. [CLI機能](#6-cli機能)

---

## 1. 機能一覧

| ID | 機能名 | 概要 | 優先度 |
|----|--------|------|--------|
| F-001 | 案件情報取得 | ランサーズ/クラウドワークスから案件情報をスクレイピング | 必須 |
| F-002 | GitHub情報取得 | GitHub APIからユーザー/チームの技術情報を取得 | 必須 |
| F-003 | 提案文生成 | Gemini APIで案件に最適化された提案文を生成 | 必須 |
| F-004 | 固定文管理 | 自己紹介等の固定文をYAMLで管理 | 必須 |
| F-005 | CLI | コマンドラインインターフェース | 必須 |

---

## 2. 案件情報取得機能

### 2.1. 概要

指定されたURLから案件情報をスクレイピングで取得する。

### 2.2. 対応サービス

| サービス | URL形式 | 対応状況 |
|----------|---------|---------|
| ランサーズ | `https://www.lancers.jp/work/detail/XXXXXX` | 対応予定 |
| クラウドワークス | `https://crowdworks.jp/public/jobs/XXXXXX` | 対応予定 |

### 2.3. 取得項目

| 項目 | 説明 | 必須 |
|------|------|------|
| タイトル | 案件のタイトル | Yes |
| 詳細説明 | 案件の詳細内容 | Yes |
| 予算 | 予算金額（範囲の場合は上限・下限） | Yes |
| 納期 | 希望納期・期限 | Yes |
| 必要スキル | 求められるスキル・技術 | Yes |
| カテゴリ | 案件のカテゴリ（Web開発、スクレイピング等） | Yes |
| クライアント情報 | 発注者の評価、発注実績 | No |

### 2.4. 要件

| ID | 要件 |
|----|------|
| F-001-01 | URLからサービス（ランサーズ/クラウドワークス）を自動判定すること |
| F-001-02 | ログインなしで閲覧可能な案件に対応すること |
| F-001-03 | 人間らしい振る舞い（待機時間、スクロール等）を実装すること |
| F-001-04 | 取得失敗時は適切なエラーメッセージを表示すること |

**詳細仕様**: [specs/scraping.md](../specs/scraping.md)

---

## 3. GitHub情報取得機能

### 3.1. 概要

GitHub REST APIを使用して、技術力をアピールするための情報を取得する。

### 3.2. 取得項目

| 項目 | 説明 | 用途 |
|------|------|------|
| プロフィール | ユーザー名、bio、会社名等 | 基本情報 |
| リポジトリ一覧 | 公開リポジトリの一覧 | 技術スタックの証明 |
| 使用言語 | 各リポジトリの使用言語と割合 | 得意技術のアピール |
| スター数 | リポジトリごとのスター数 | 実績アピール |
| コントリビューション | コントリビューション数 | 活動量の証明 |

### 3.3. 要件

| ID | 要件 |
|----|------|
| F-002-01 | 設定ファイルで指定されたGitHubユーザー名を使用すること |
| F-002-02 | 認証なし（パブリックAPI）で取得可能な情報を対象とすること |
| F-002-03 | レート制限（60 requests/hour）を考慮すること |
| F-002-04 | 案件で求められる技術に関連するリポジトリを優先的に抽出すること |

**詳細仕様**: [specs/github.md](../specs/github.md)

---

## 4. 提案文生成機能

### 4.1. 概要

Gemini APIを使用して、案件情報・GitHub情報・固定文を組み合わせた提案文を生成する。

### 4.2. 入力

| 入力 | 内容 |
|------|------|
| 案件情報 | スクレイピングで取得した案件データ |
| GitHub情報 | APIで取得した技術情報 |
| 固定文 | YAMLで定義された自己紹介等 |
| カテゴリテンプレート | 案件カテゴリに応じた追加文 |

### 4.3. 出力

案件に最適化された提案文テキスト（6パート構成）

### 4.4. 要件

| ID | 要件 |
|----|------|
| F-003-01 | 6パート構成（挨拶→理解→提案→技術→スケジュール→締め）の提案文を生成すること |
| F-003-02 | 案件のカテゴリを自動判定し、適切なテンプレートを選択すること |
| F-003-03 | 各サービスの提案文字数制限を考慮すること |
| F-003-04 | 自然で人間らしい文章を生成すること |
| F-003-05 | GitHub情報から案件に関連する技術・実績を抽出して含めること |

**詳細仕様**: [specs/generation.md](../specs/generation.md)

---

## 5. 固定文・設定管理機能

### 5.1. 概要

自己紹介や締めの挨拶など、案件によらず共通で使用する文章をYAMLファイルで管理する。

### 5.2. 管理項目

| 項目 | 説明 |
|------|------|
| 挨拶文 | 提案文冒頭の挨拶 |
| 自己紹介 | 経歴、スキル、実績等の紹介 |
| スケジュール文 | 対応可能時期、稼働時間等 |
| 締めの挨拶 | 提案文末尾の挨拶 |
| カテゴリ別テンプレート | 案件カテゴリごとの追加文 |

### 5.3. 要件

| ID | 要件 |
|----|------|
| F-004-01 | YAML形式で固定文を管理すること |
| F-004-02 | カテゴリ別のテンプレートを定義できること |
| F-004-03 | 複数のプロフィール（個人/チーム等）を切り替えられること |
| F-004-04 | 設定ファイルの構文エラー時は明確なエラーメッセージを表示すること |

**詳細仕様**: [specs/config.md](../specs/config.md)

---

## 6. CLI機能

### 6.1. 概要

コマンドラインから提案文生成を実行できるインターフェースを提供する。

### 6.2. コマンド一覧

| コマンド | 説明 |
|---------|------|
| `proposal-gen <URL>` | 指定URLの案件から提案文を生成 |
| `proposal-gen config show` | 現在の設定を表示 |
| `proposal-gen config edit` | 設定ファイルをエディタで開く |
| `proposal-gen --help` | ヘルプを表示 |
| `proposal-gen --version` | バージョンを表示 |

### 6.3. オプション

| オプション | 説明 | デフォルト |
|-----------|------|-----------|
| `--output, -o` | 出力先ファイルパス | 標準出力 |
| `--copy, -c` | クリップボードにコピー | false |
| `--verbose, -v` | 詳細ログを表示 | false |
| `--profile, -p` | 使用するプロフィール名 | default |

### 6.4. 要件

| ID | 要件 |
|----|------|
| F-005-01 | 引数なしで実行した場合はヘルプを表示すること |
| F-005-02 | 無効なURLが指定された場合はエラーメッセージを表示すること |
| F-005-03 | 処理中はプログレス表示を行うこと |
| F-005-04 | `--copy`オプションでクリップボードにコピーできること |

---

## 関連ドキュメント

- [非機能要件](./non-functional.md)
- [スクレイピング仕様](../specs/scraping.md)
- [GitHub連携仕様](../specs/github.md)
- [提案文生成仕様](../specs/generation.md)
- [設定仕様](../specs/config.md)
